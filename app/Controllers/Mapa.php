<?php

namespace App\Controllers;

use App\Models\Mapa_model;

class Mapa extends UNO_Controller {
    private Mapa_model $mapa_model;

    public function __construct()
    {
        parent::__construct();

        $this->mapa_model = new Mapa_model();
    }

    public function index()
    {
        $data = array();

        echo $this->render('index', $data, false);
    }

    public function get_buildings()
    {
        $dados = [
            array(
                "type" => "FeatureCollection",
                "features" => [
                    array(
                        "id" => "w137353386",
                        "properties" => array(
                            "height" => 25,
                            "altitude" => 20,
                            "material" => "brick",
                            "color" => "#fff",
                            "colorHover" => "#ededed",
                            "roofMaterial" => "tar_paper",
                            "roofShape" => "pyramid",
                            "topColor" => "#fff",
                            "opacity" => 0.1
                        ),
                        "geometry" => array(
                            "type" => "Polygon",
                            "coordinates" => [[
                                [-74.2420432, 40.5456883],
                                [-74.2420644, 40.5456882],
                                [-74.2420737, 40.5456891],
                                [-74.2420812, 40.5456903],
                                [-74.2420949, 40.5456935],
                                [-74.2421053, 40.5456969],
                                [-74.2421288, 40.5457087],
                                [-74.2421349, 40.5457129],
                                [-74.2421545, 40.5457324],
                                [-74.2421591, 40.5457392],
                                [-74.2421622, 40.5457449],
                                [-74.2421657, 40.5457535],
                                [-74.2421684, 40.5457648],
                                [-74.2421691, 40.5457801],
                                [-74.2421673, 40.5457912],
                                [-74.2421623, 40.5458051],
                                [-74.2421567, 40.5458148],
                                [-74.2421472, 40.5458265],
                                [-74.2421382, 40.5458348],
                                [-74.2421287, 40.5458416],
                                [-74.2421132, 40.5458501],
                                [-74.2420991, 40.5458555],
                                [-74.2420909, 40.5458578],
                                [-74.2420725, 40.5458612],
                                [-74.24205, 40.5458623],
                                [-74.2420459, 40.5458621],
                                [-74.242022, 40.5458588],
                                [-74.2420084, 40.545855],
                                [-74.2419963, 40.5458503],
                                [-74.241979, 40.5458408],
                                [-74.2419723, 40.545836],
                                [-74.2419696, 40.5458338],
                                [-74.2419587, 40.5458231],
                                [-74.2419493, 40.5458101],
                                [-74.2419452, 40.5458019],
                                [-74.2419404, 40.5457849],
                                [-74.2419404, 40.5457654],
                                [-74.2419423, 40.5457565],
                                [-74.2419502, 40.5457386],
                                [-74.2419594, 40.5457262],
                                [-74.2419662, 40.5457193],
                                [-74.2419754, 40.5457119],
                                [-74.2419849, 40.5457057],
                                [-74.2419953, 40.5457004],
                                [-74.2420061, 40.545696],
                                [-74.2420307, 40.5456898],
                                [-74.2420432, 40.5456883]
                            ]]
                        ),
                        "type" => "Feature"
                    )
                ]
            ),
            array(
                "type" => "FeatureCollection",
                "features" => [
                    array(
                        "id" => "w137353387",
                        "properties" => array(
                            "height" => 20,
                            "altitude" => 0,
                            "material" => "brick",
                            "color" => "#53acd6",
                            "colorHover" => "#AAD3DF",
                            "roofMaterial" => "tar_paper",
                            "roofShape" => "pyramid",
                            "topColor" => "#53acd6",
                            "opacity" => 1
                        ),
                        "geometry" => array(
                            "type" => "Polygon",
                            "coordinates" => [[
                                [-74.2420436, 40.5456883],
                                [-74.2420644, 40.5456882],
                                [-74.2420737, 40.5456891],
                                [-74.2420812, 40.5456903],
                                [-74.2420949, 40.5456935],
                                [-74.2421053, 40.5456969],
                                [-74.2421288, 40.5457087],
                                [-74.2421349, 40.5457129],
                                [-74.2421545, 40.5457324],
                                [-74.2421591, 40.5457392],
                                [-74.2421622, 40.5457449],
                                [-74.2421657, 40.5457535],
                                [-74.2421684, 40.5457648],
                                [-74.2421691, 40.5457801],
                                [-74.2421673, 40.5457912],
                                [-74.2421623, 40.5458051],
                                [-74.2421567, 40.5458148],
                                [-74.2421472, 40.5458265],
                                [-74.2421382, 40.5458348],
                                [-74.2421287, 40.5458416],
                                [-74.2421132, 40.5458501],
                                [-74.2420991, 40.5458555],
                                [-74.2420909, 40.5458578],
                                [-74.2420725, 40.5458612],
                                [-74.24205, 40.5458623],
                                [-74.2420459, 40.5458621],
                                [-74.242022, 40.5458588],
                                [-74.2420084, 40.545855],
                                [-74.2419963, 40.5458503],
                                [-74.241979, 40.5458408],
                                [-74.2419723, 40.545836],
                                [-74.2419696, 40.5458338],
                                [-74.2419587, 40.5458231],
                                [-74.2419493, 40.5458101],
                                [-74.2419452, 40.5458019],
                                [-74.2419404, 40.5457849],
                                [-74.2419404, 40.5457654],
                                [-74.2419423, 40.5457565],
                                [-74.2419502, 40.5457386],
                                [-74.2419594, 40.5457262],
                                [-74.2419662, 40.5457193],
                                [-74.2419754, 40.5457119],
                                [-74.2419849, 40.5457057],
                                [-74.2419953, 40.5457004],
                                [-74.2420061, 40.545696],
                                [-74.2420307, 40.5456898],
                                [-74.2420432, 40.5456883]
                            ]]
                        ),
                        "type" => "Feature"
                    )
                ]
            )
        ];

        echo json_encode($dados);
    }
}